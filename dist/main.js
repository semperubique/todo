(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.createElement("button");t.classList.add("folder-button","inbox");const n=document.createElement("span");n.classList.add("material-icons"),n.textContent="inbox",t.appendChild(n),t.insertAdjacentText("beforeend","Inbox"),e.appendChild(t)},t=e=>{const t=document.createElement("h2"),n=document.createElement("ul"),d=document.createElement("button");n.classList.add("project-list"),d.classList.add("add-project"),t.textContent="Projects";const a=document.createElement("span");a.classList.add("material-icons"),a.textContent="add",d.appendChild(a),d.insertAdjacentText("beforeend","Add a project"),e.appendChild(t),e.appendChild(n),e.appendChild(d),c.enableAddProjectButton(d)};return{initializeLayout:()=>{const n=document.querySelector("body"),d=document.createElement("header"),c=document.createElement("main"),a=document.createElement("footer");(e=>{const t=document.createElement("h1");t.classList.add("logo"),t.textContent="Tasks",e.appendChild(t)})(d),n.appendChild(d),(n=>{const d=document.createElement("div"),c=document.createElement("div");d.classList.add("sidebar"),c.classList.add("content"),(n=>{const d=document.createElement("div"),c=document.createElement("div");d.classList.add("folders"),c.classList.add("projects"),e(d),n.appendChild(d),t(c),n.appendChild(c)})(d),n.appendChild(d),n.appendChild(c)})(c),n.appendChild(c),(e=>{const t=document.createElement("p");t.textContent="by Murad Ildarov",e.appendChild(t)})(a),n.appendChild(a)}}})(),t=(e,t,n,d,c)=>({title:e,description:t,dueDate:n,priority:d,project:c,done:!1}),n=e=>({title:e}),d=(()=>{const e=(e,t)=>{const n=document.createElement("li"),d=document.createElement("button"),c=document.createElement("span"),a=document.createElement("span");a.classList.add("task-title");const o=document.createElement("span"),l=document.createElement("p"),s=(document.createElement("button"),document.createElement("span")),i=document.createElement("button"),r=document.createElement("span");r.classList.add("material-icons"),!1===t.done?r.textContent="check_box_outline_blank":!0===t.done&&(r.textContent="check_box"),d.appendChild(r),c.textContent=t.priority,a.textContent=t.title,o.textContent=t.project,l.textContent=t.description,s.textContent=t.dueDate;const p=document.createElement("span");p.classList.add("material-icons"),p.textContent="close",i.appendChild(p),n.appendChild(d),n.appendChild(c),n.appendChild(a),n.appendChild(o),n.appendChild(s),n.appendChild(i),e.appendChild(n)};return{updateContent:(t,n)=>{const d=document.querySelector(".content");d.innerHTML="";const c=document.createElement("div");c.classList.add("content-container");const a=document.createElement("h2"),o=document.createElement("ul");o.classList.add("task-list");const l=document.createElement("button");l.classList.add("add-task-button"),l.textContent="Add a task","inbox"===t.classList[1]?(a.textContent="Inbox",n.forEach((t=>{e(o,t)}))):(a.textContent=t.textContent,n.forEach((n=>{n.project===t.textContent&&e(o,n)}))),a.classList.add("choice-title"),c.appendChild(a),c.appendChild(l),c.appendChild(o),d.appendChild(c)},updateProjectList:e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("project-button"),n.textContent=e.title,t.appendChild(n)}))},updateTaskList:e}})(),c=(()=>{let e=[],c=[];const a=e=>{c.push(e)},o=t=>{e.push(t)},l=t("Clean the house","There are some spiders that are dirty","2022",1),s=t("Remove the mouse","There are some spiders that are dirty","2022",1,"work");o(l),o(s);const i=n("work"),r=n("gym");a(i),a(r);const p=()=>{document.querySelectorAll(".project-button").forEach((t=>t.addEventListener("click",(()=>{d.updateContent(t,e),u()}))))},u=()=>{const n=document.querySelector(".add-task-button");n.addEventListener("click",(()=>(n=>{n.classList.add("hidden");const a=document.createElement("form"),o=document.createElement("div");o.classList.add("task-details-container");const l=document.createElement("select"),s=document.createElement("input"),i=document.createElement("select"),r=document.createElement("input"),p=document.createElement("textarea"),u=document.createElement("div"),m=document.createElement("button"),h=document.createElement("button"),C=document.createElement("option");C.value="",C.textContent="-",C.selected=!0,l.appendChild(C);for(let e=0;e<10;e++){const t=document.createElement("option");t.value=e+1,t.textContent=e+1,l.appendChild(t)}s.required=!0,s.placeholder="Task",s.classList.add("task-title");const E=document.createElement("option");E.value="",E.textContent="-",i.appendChild(E),c.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.textContent=e.title,i.appendChild(t)})),r.type="date",p.classList.add("text-area-description"),m.type="button",h.type="button",m.textContent="Add",h.textContent="Cancel",h.addEventListener("click",(()=>{a.remove(),n.classList.remove("hidden")})),m.addEventListener("click",(()=>{if(a.checkValidity()){const c=t(s.value,p.value,r.value,l.value,i.value);e.push(c),d.updateTaskList(document.querySelector(".task-list"),c),a.remove(),n.classList.remove("hidden")}else a.reportValidity()})),u.classList.add("add-or-cancel"),u.appendChild(m),u.appendChild(h),o.appendChild(l),o.appendChild(s),o.appendChild(i),o.appendChild(r),a.appendChild(o),a.appendChild(p),a.appendChild(u),document.querySelector(".choice-title").after(a)})(n)))};return{switchFolder:()=>{document.querySelectorAll(".folder-button").forEach((t=>t.addEventListener("click",(()=>{d.updateContent(t,e),u()}))))},switchProject:p,updateProjectList:()=>{d.updateProjectList(c)},enableAddProjectButton:e=>{e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const t=document.createElement("form"),a=document.createElement("div"),o=document.createElement("input"),l=document.createElement("div"),s=document.createElement("button"),i=document.createElement("button");o.required=!0,o.placeholder="Project",s.type="button",i.type="button",s.textContent="Add",i.textContent="Cancel",i.addEventListener("click",(()=>{t.remove(),e.classList.remove("hidden")})),s.addEventListener("click",(()=>{if(t.checkValidity()){const a=n(o.value);c.push(a),d.updateProjectList(c),p(),t.remove(),e.classList.remove("hidden")}else t.reportValidity()})),l.classList.add("add-or-cancel"),l.appendChild(s),l.appendChild(i),a.appendChild(o),t.appendChild(a),t.appendChild(l),document.querySelector(".project-list").after(t)})(e)))}}})();e.initializeLayout(),c.switchFolder(),c.updateProjectList(),c.switchProject()})();
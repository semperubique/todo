(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.createElement("button");t.classList.add("folder-button","inbox");const n=document.createElement("span");n.classList.add("material-icons"),n.textContent="inbox",t.appendChild(n),t.insertAdjacentText("beforeend","Inbox"),e.appendChild(t)},t=e=>{const t=document.createElement("h2"),n=document.createElement("ul"),d=document.createElement("button");n.classList.add("project-list"),d.classList.add("add-project"),t.textContent="Projects";const o=document.createElement("span");o.classList.add("material-icons"),o.textContent="add",d.appendChild(o),d.insertAdjacentText("beforeend","Add a project"),e.appendChild(t),e.appendChild(n),e.appendChild(d),c.enableAddProjectButton(d)};return{initializeLayout:()=>{const n=document.querySelector("body"),d=document.createElement("header"),c=document.createElement("main"),o=document.createElement("footer");(e=>{const t=document.createElement("h1");t.classList.add("logo"),t.textContent="Tasks",e.appendChild(t)})(d),n.appendChild(d),(n=>{const d=document.createElement("div"),c=document.createElement("div");d.classList.add("sidebar"),c.classList.add("content"),(n=>{const d=document.createElement("div"),c=document.createElement("div");d.classList.add("folders"),c.classList.add("projects"),e(d),n.appendChild(d),t(c),n.appendChild(c)})(d),n.appendChild(d),n.appendChild(c)})(c),n.appendChild(c),(e=>{const t=document.createElement("p");t.textContent="by Murad Ildarov",e.appendChild(t)})(o),n.appendChild(o)}}})(),t=(e,t,n,d,c)=>({title:e,description:t,dueDate:n,priority:d,project:c,done:!1}),n=e=>({title:e}),d=(()=>{const e=(e,t)=>{const n=document.createElement("li"),d=document.createElement("button"),c=document.createElement("span"),o=document.createElement("span");o.classList.add("task-title");const a=document.createElement("span"),l=document.createElement("p"),s=(document.createElement("button"),document.createElement("span")),i=document.createElement("button"),r=document.createElement("span");r.classList.add("material-icons"),!1===t.done?r.textContent="check_box_outline_blank":!0===t.done&&(r.textContent="check_box"),d.appendChild(r),c.textContent=t.priority,o.textContent=t.title,a.textContent=t.project,l.textContent=t.description,s.textContent=t.dueDate;const p=document.createElement("span");p.classList.add("material-icons"),p.textContent="close",i.appendChild(p),i.classList.add("task-delete-button"),n.appendChild(d),n.appendChild(c),n.appendChild(o),n.appendChild(a),n.appendChild(s),n.appendChild(i),e.appendChild(n)};return{updateContent:(t,n)=>{const d=document.querySelector(".content");d.innerHTML="";const o=document.createElement("div");o.classList.add("content-container");const a=document.createElement("h2"),l=document.createElement("ul");l.classList.add("task-list");const s=document.createElement("button");s.classList.add("add-task-button"),s.textContent="Add a task","inbox"===t.classList[1]?(a.textContent="Inbox",n.forEach((t=>{e(l,t)}))):(a.textContent=t.textContent,n.forEach((n=>{n.project===t.textContent&&e(l,n)}))),a.classList.add("choice-title"),o.appendChild(a),o.appendChild(s),o.appendChild(l),d.appendChild(o),c.enabelDeleteTaskButton()},updateProjectList:e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("project-name-and-detele");const d=document.createElement("span");d.classList.add("project-button"),d.textContent=e.title;const c=document.createElement("button");c.textContent="x",c.classList.add("project-delete-button"),n.appendChild(d),n.appendChild(c),t.appendChild(n)})),c.enabelDeleteProjectButton()},updateTaskList:e}})(),c=(()=>{let e=[],c=[];const o=e=>{c.push(e)},a=t=>{e.push(t)},l=t("Clean the house","There are some spiders that are dirty","2022",1),s=t("Remove the mouse","There are some spiders that are dirty","2022",1,"work");a(l),a(s);const i=n("work"),r=n("gym");o(i),o(r);const p=()=>{document.querySelectorAll(".project-button").forEach((t=>t.addEventListener("click",(()=>{d.updateContent(t,e),u()}))))},u=()=>{const n=document.querySelector(".add-task-button");n.addEventListener("click",(()=>(n=>{n.classList.add("hidden");const o=document.createElement("form"),a=document.createElement("div");a.classList.add("task-details-container");const l=document.createElement("select"),s=document.createElement("input"),i=document.createElement("select"),r=document.createElement("input"),p=document.createElement("textarea"),u=document.createElement("div"),m=document.createElement("button"),h=document.createElement("button"),C=document.createElement("option");C.value="",C.textContent="-",C.selected=!0,l.appendChild(C);for(let e=0;e<10;e++){const t=document.createElement("option");t.value=e+1,t.textContent=e+1,l.appendChild(t)}s.required=!0,s.placeholder="Task",s.classList.add("task-title");const E=document.createElement("option");E.value="",E.textContent="-",i.appendChild(E),c.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.textContent=e.title,i.appendChild(t)})),r.type="date",p.classList.add("text-area-description"),m.type="button",h.type="button",m.textContent="Add",h.textContent="Cancel",h.addEventListener("click",(()=>{o.remove(),n.classList.remove("hidden")})),m.addEventListener("click",(()=>{if(o.checkValidity()){const c=t(s.value,p.value,r.value,l.value,i.value);e.push(c),d.updateTaskList(document.querySelector(".task-list"),c),o.remove(),n.classList.remove("hidden")}else o.reportValidity()})),u.classList.add("add-or-cancel"),u.appendChild(m),u.appendChild(h),a.appendChild(l),a.appendChild(s),a.appendChild(i),a.appendChild(r),o.appendChild(a),o.appendChild(p),o.appendChild(u),document.querySelector(".choice-title").after(o)})(n)))};return{switchFolder:()=>{document.querySelectorAll(".folder-button").forEach((t=>t.addEventListener("click",(()=>{d.updateContent(t,e),u()}))))},switchProject:p,updateProjectList:()=>{d.updateProjectList(c)},enableAddProjectButton:e=>{e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const t=document.createElement("form"),o=document.createElement("div"),a=document.createElement("input"),l=document.createElement("div"),s=document.createElement("button"),i=document.createElement("button");a.required=!0,a.placeholder="Project",s.type="button",i.type="button",s.textContent="Add",i.textContent="Cancel",i.addEventListener("click",(()=>{t.remove(),e.classList.remove("hidden")})),s.addEventListener("click",(()=>{if(t.checkValidity()){const o=n(a.value);c.push(o),d.updateProjectList(c),p(),t.remove(),e.classList.remove("hidden")}else t.reportValidity()})),l.classList.add("add-or-cancel"),l.appendChild(s),l.appendChild(i),o.appendChild(a),t.appendChild(o),t.appendChild(l),document.querySelector(".project-list").after(t)})(e)))},enabelDeleteProjectButton:()=>{document.querySelectorAll(".project-delete-button").forEach((e=>e.addEventListener("click",(()=>{c=c.filter((t=>t.title!==e.closest("li").children[0].textContent)),e.closest("li").remove()}))))},enabelDeleteTaskButton:()=>{document.querySelectorAll(".task-delete-button").forEach((t=>t.addEventListener("click",(()=>{console.log(t.closest("li").children[2].textContent),e=e.filter((e=>e.title!==t.closest("li").children[2].textContent)),t.closest("li").remove()}))))}}})();e.initializeLayout(),c.switchFolder(),c.updateProjectList(),c.switchProject()})();
(()=>{"use strict";const e=(()=>{const e=()=>{const e=document.createElement("div");e.classList.add("folders");const t=document.createElement("button");t.classList.add("folder-button","inbox");const n=document.createElement("span");return n.classList.add("material-icons"),n.textContent="inbox",t.appendChild(n),t.insertAdjacentText("beforeend","Inbox"),e.appendChild(t),e},t=()=>{const e=document.createElement("div");e.classList.add("projects");const t=document.createElement("h2");t.textContent="Projects";const n=document.createElement("ul");n.classList.add("project-list");const o=document.createElement("button");o.classList.add("add-project");const d=document.createElement("span");return d.classList.add("material-icons"),d.textContent="add",o.appendChild(d),o.insertAdjacentText("beforeend","Add a project"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e};return{initializeBody:()=>{const n=document.querySelector("body");n.appendChild((()=>{const e=document.createElement("header"),t=document.createElement("h1");return t.classList.add("logo"),t.textContent="Tasks",e.appendChild(t),e})()),n.appendChild((()=>{const n=document.createElement("main");return n.appendChild((()=>{const n=document.createElement("div");return n.classList.add("sidebar"),n.appendChild(e()),n.appendChild(t()),n})()),n.appendChild((()=>{const e=document.createElement("div");e.classList.add("content");const t=document.createElement("div");t.classList.add("content-container");const n=document.createElement("h2"),o=document.createElement("ul");o.classList.add("task-list");const d=document.createElement("button");return d.classList.add("add-task-button"),d.textContent="Add a task",n.classList.add("choice-title"),n.textContent="Inbox",t.appendChild(n),t.appendChild(d),t.appendChild(o),e.appendChild(t),e})()),n})()),n.appendChild((()=>{const e=document.createElement("footer"),t=document.createElement("p");return t.textContent="by Murad Ildarov",e.appendChild(t),e})())}}})();let t,n;localStorage.getItem("tasks")?t=JSON.parse(localStorage.getItem("tasks")):(console.log("it does not exist"),t=[]),localStorage.getItem("projects")?n=JSON.parse(localStorage.getItem("projects")):(console.log("it does not exist"),n=[]);const o=e=>{const t=document.querySelector(".choice-title");"inbox"===e.classList[1]?t.textContent="Inbox":t.textContent=e.textContent},d=e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("project-name-and-detele");const o=document.createElement("span");o.classList.add("project-button"),o.textContent=e.title;const d=document.createElement("button");d.textContent="x",d.classList.add("project-delete-button"),n.appendChild(o),n.appendChild(d),t.appendChild(n)})),l.enableDeleteProjectButton(),l.enableProjectSwitching(),localStorage.setItem("projects",JSON.stringify(e))},c=e=>{const t=document.querySelector(".choice-title");let n;n="Inbox"===t.textContent?e:e.filter((e=>e.project===t.textContent)),n.sort(((e,t)=>e.title.toLowerCase()<t.title.toLowerCase()?-1:e.title.toLowerCase()>t.title.toLowerCase()?1:0)),n.sort(((e,t)=>e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0)),n.sort(((e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:0)),n.sort(((e,t)=>e.done<t.done?-1:e.done>t.done?1:0));const o=document.querySelector(".task-list");o.innerHTML="",n.forEach((e=>{const t=document.createElement("li"),n=document.createElement("button");n.classList.add("task-complete-button");const d=document.createElement("span"),c=document.createElement("span");c.classList.add("task-title");const l=document.createElement("span"),a=document.createElement("p"),i=(document.createElement("button"),document.createElement("span")),s=document.createElement("button"),r=document.createElement("span");r.classList.add("material-icons"),!1===e.done?r.textContent="check_box_outline_blank":!0===e.done&&(r.textContent="check_box"),n.appendChild(r),d.textContent=e.priority,c.textContent=e.title,l.textContent=e.project,a.textContent=e.description,i.textContent=e.dueDate;const p=document.createElement("span");p.classList.add("material-icons"),p.textContent="close",s.appendChild(p),s.classList.add("task-delete-button"),t.appendChild(n),t.appendChild(d),t.appendChild(c),t.appendChild(l),t.appendChild(i),t.appendChild(s),o.appendChild(t)})),l.enableDeleteTaskButton(),l.enableCompleteTaskButton(),localStorage.setItem("tasks",JSON.stringify(e))},l=(()=>{const e=()=>{document.querySelectorAll(".project-button").forEach((e=>e.addEventListener("click",(()=>{o(e),c(t)}))))};return{enableFolderSwitching:()=>{document.querySelectorAll(".folder-button").forEach((e=>e.addEventListener("click",(()=>{o(e),c(t)}))))},enableProjectSwitching:e,enableAddProjectButton:()=>{const t=document.querySelector(".add-project");t.addEventListener("click",(()=>(t=>{t.classList.add("hidden");const o=document.createElement("form"),c=document.createElement("div"),l=document.createElement("input"),a=document.createElement("div"),i=document.createElement("button"),s=document.createElement("button");l.required=!0,l.placeholder="Project",i.type="button",s.type="button",i.textContent="Add",s.textContent="Cancel",s.addEventListener("click",(()=>{o.remove(),t.classList.remove("hidden")})),i.addEventListener("click",(()=>{if(o.checkValidity()){const c={title:l.value};n.push(c),d(n),e(),o.remove(),t.classList.remove("hidden")}else o.reportValidity()})),a.classList.add("add-or-cancel"),a.appendChild(i),a.appendChild(s),c.appendChild(l),o.appendChild(c),o.appendChild(a),document.querySelector(".project-list").after(o)})(t)))},enableDeleteProjectButton:()=>{document.querySelectorAll(".project-delete-button").forEach((e=>e.addEventListener("click",(()=>{n=n.filter((t=>t.title!==e.closest("li").children[0].textContent)),d(n),o(document.querySelector(".inbox")),t=t.filter((t=>t.project!==e.closest("li").children[0].textContent)),c(t)}))))},enableDeleteTaskButton:()=>{document.querySelectorAll(".task-delete-button").forEach((e=>e.addEventListener("click",(()=>{t=t.filter((t=>t.title!==e.closest("li").children[2].textContent)),c(t)}))))},enableAddTaskButton:()=>{const e=document.querySelector(".add-task-button");e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const o=document.createElement("form"),d=document.createElement("div");d.classList.add("task-details-container");const l=document.createElement("select"),a=document.createElement("input"),i=document.createElement("select"),s=document.createElement("input"),r=document.createElement("textarea"),p=document.createElement("div"),u=document.createElement("button"),m=document.createElement("button"),C=document.createElement("option");C.value="",C.textContent="-",C.selected=!0,l.appendChild(C);for(let e=0;e<10;e++){const t=document.createElement("option");t.value=e+1,t.textContent=e+1,l.appendChild(t)}a.required=!0,a.placeholder="Task",a.classList.add("task-title");const h=document.createElement("option");h.value="",h.textContent="-",i.appendChild(h),n.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.textContent=e.title,i.appendChild(t)})),s.type="date",r.classList.add("text-area-description"),u.type="button",m.type="button",u.textContent="Add",m.textContent="Cancel",m.addEventListener("click",(()=>{o.remove(),e.classList.remove("hidden")})),u.addEventListener("click",(()=>{if(o.checkValidity()){const n={title:a.value,description:r.value,dueDate:s.value,priority:l.value,project:i.value,done:!1};t.push(n),c(t),o.remove(),e.classList.remove("hidden")}else o.reportValidity()})),p.classList.add("add-or-cancel"),p.appendChild(u),p.appendChild(m),d.appendChild(l),d.appendChild(a),d.appendChild(i),d.appendChild(s),o.appendChild(d),o.appendChild(r),o.appendChild(p),document.querySelector(".choice-title").after(o)})(e)))},enableCompleteTaskButton:()=>{document.querySelectorAll(".task-complete-button").forEach((e=>e.addEventListener("click",(()=>{!0===t.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done?t.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done=!1:t.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done=!0,c(t)}))))}}})();e.initializeBody(),c(t),d(n),l.enableAddProjectButton(),l.enableAddTaskButton(),l.enableFolderSwitching(),l.enableProjectSwitching()})();
(()=>{"use strict";const e=e=>{const t=document.querySelector(".choice-title");"inbox"===e.classList[1]?t.textContent="Inbox":t.textContent=e.textContent},t=e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("project-name-and-detele");const d=document.createElement("span");d.classList.add("project-button"),d.textContent=e.title;const c=document.createElement("button");c.textContent="x",c.classList.add("project-delete-button"),n.appendChild(d),n.appendChild(c),t.appendChild(n)})),a.enableDeleteProjectButton(),a.enableProjectSwitching()},n=e=>{const t=document.querySelector(".choice-title");let n;n="Inbox"===t.textContent?e:e.filter((e=>e.project===t.textContent));const d=document.querySelector(".task-list");d.innerHTML="",n.forEach((e=>{const t=document.createElement("li"),n=document.createElement("button");n.classList.add("task-complete-button");const c=document.createElement("span"),o=document.createElement("span");o.classList.add("task-title");const l=document.createElement("span"),a=document.createElement("p"),i=(document.createElement("button"),document.createElement("span")),s=document.createElement("button"),r=document.createElement("span");r.classList.add("material-icons"),!1===e.done?r.textContent="check_box_outline_blank":!0===e.done&&(r.textContent="check_box"),n.appendChild(r),c.textContent=e.priority,o.textContent=e.title,l.textContent=e.project,a.textContent=e.description,i.textContent=e.dueDate;const u=document.createElement("span");u.classList.add("material-icons"),u.textContent="close",s.appendChild(u),s.classList.add("task-delete-button"),t.appendChild(n),t.appendChild(c),t.appendChild(o),t.appendChild(l),t.appendChild(i),t.appendChild(s),d.appendChild(t)})),a.enableDeleteTaskButton(),a.enableCompleteTaskButton()},d=(e,t,n,d,c)=>({title:e,description:t,dueDate:n,priority:d,project:c,done:!1}),c=e=>({title:e});let o=[],l=[];const a=(()=>{const a=()=>{document.querySelectorAll(".project-button").forEach((t=>t.addEventListener("click",(()=>{e(t),n(o)}))))};return{enableFolderSwitching:()=>{document.querySelectorAll(".folder-button").forEach((t=>t.addEventListener("click",(()=>{e(t),n(o)}))))},enableProjectSwitching:a,enableAddProjectButton:()=>{const e=document.querySelector(".add-project");e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const n=document.createElement("form"),d=document.createElement("div"),o=document.createElement("input"),i=document.createElement("div"),s=document.createElement("button"),r=document.createElement("button");o.required=!0,o.placeholder="Project",s.type="button",r.type="button",s.textContent="Add",r.textContent="Cancel",r.addEventListener("click",(()=>{n.remove(),e.classList.remove("hidden")})),s.addEventListener("click",(()=>{if(n.checkValidity()){const d=c(o.value);l.push(d),t(l),a(),n.remove(),e.classList.remove("hidden")}else n.reportValidity()})),i.classList.add("add-or-cancel"),i.appendChild(s),i.appendChild(r),d.appendChild(o),n.appendChild(d),n.appendChild(i),document.querySelector(".project-list").after(n)})(e)))},enableDeleteProjectButton:()=>{document.querySelectorAll(".project-delete-button").forEach((d=>d.addEventListener("click",(()=>{l=l.filter((e=>e.title!==d.closest("li").children[0].textContent)),t(l),e(document.querySelector(".inbox")),o=o.filter((e=>e.project!==d.closest("li").children[0].textContent)),n(o)}))))},enableDeleteTaskButton:()=>{document.querySelectorAll(".task-delete-button").forEach((e=>e.addEventListener("click",(()=>{o=o.filter((t=>t.title!==e.closest("li").children[2].textContent)),n(o)}))))},enableAddTaskButton:()=>{const e=document.querySelector(".add-task-button");e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const t=document.createElement("form"),c=document.createElement("div");c.classList.add("task-details-container");const a=document.createElement("select"),i=document.createElement("input"),s=document.createElement("select"),r=document.createElement("input"),u=document.createElement("textarea"),p=document.createElement("div"),m=document.createElement("button"),h=document.createElement("button"),C=document.createElement("option");C.value="",C.textContent="-",C.selected=!0,a.appendChild(C);for(let e=0;e<10;e++){const t=document.createElement("option");t.value=e+1,t.textContent=e+1,a.appendChild(t)}i.required=!0,i.placeholder="Task",i.classList.add("task-title");const E=document.createElement("option");E.value="",E.textContent="-",s.appendChild(E),l.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.textContent=e.title,s.appendChild(t)})),r.type="date",u.classList.add("text-area-description"),m.type="button",h.type="button",m.textContent="Add",h.textContent="Cancel",h.addEventListener("click",(()=>{t.remove(),e.classList.remove("hidden")})),m.addEventListener("click",(()=>{if(t.checkValidity()){const c=d(i.value,u.value,r.value,a.value,s.value);o.push(c),n(o),t.remove(),e.classList.remove("hidden")}else t.reportValidity()})),p.classList.add("add-or-cancel"),p.appendChild(m),p.appendChild(h),c.appendChild(a),c.appendChild(i),c.appendChild(s),c.appendChild(r),t.appendChild(c),t.appendChild(u),t.appendChild(p),document.querySelector(".choice-title").after(t)})(e)))},enableCompleteTaskButton:()=>{document.querySelectorAll(".task-complete-button").forEach((e=>e.addEventListener("click",(()=>{!0===o.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done?o.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done=!1:o.filter((t=>t.title===e.closest("li").children[2].textContent))[0].done=!0,n(o)}))))}}})(),i=(()=>{const e=()=>{const e=document.createElement("div");e.classList.add("folders");const t=document.createElement("button");t.classList.add("folder-button","inbox");const n=document.createElement("span");return n.classList.add("material-icons"),n.textContent="inbox",t.appendChild(n),t.insertAdjacentText("beforeend","Inbox"),e.appendChild(t),e},t=()=>{const e=document.createElement("div");e.classList.add("projects");const t=document.createElement("h2");t.textContent="Projects";const n=document.createElement("ul");n.classList.add("project-list");const d=document.createElement("button");d.classList.add("add-project");const c=document.createElement("span");return c.classList.add("material-icons"),c.textContent="add",d.appendChild(c),d.insertAdjacentText("beforeend","Add a project"),e.appendChild(t),e.appendChild(n),e.appendChild(d),e};return{initializeBody:()=>{const n=document.querySelector("body");n.appendChild((()=>{const e=document.createElement("header"),t=document.createElement("h1");return t.classList.add("logo"),t.textContent="Tasks",e.appendChild(t),e})()),n.appendChild((()=>{const n=document.createElement("main");return n.appendChild((()=>{const n=document.createElement("div");return n.classList.add("sidebar"),n.appendChild(e()),n.appendChild(t()),n})()),n.appendChild((()=>{const e=document.createElement("div");e.classList.add("content");const t=document.createElement("div");t.classList.add("content-container");const n=document.createElement("h2"),d=document.createElement("ul");d.classList.add("task-list");const c=document.createElement("button");return c.classList.add("add-task-button"),c.textContent="Add a task",n.classList.add("choice-title"),n.textContent="Inbox",t.appendChild(n),t.appendChild(c),t.appendChild(d),e.appendChild(t),e})()),n})()),n.appendChild((()=>{const e=document.createElement("footer"),t=document.createElement("p");return t.textContent="by Murad Ildarov",e.appendChild(t),e})())}}})();i.initializeBody(),(()=>{const e=d("Clean the house","There are some spiders that are dirty","2022",1),a=d("Remove the mouxxxse","There are some spiders that are dixrty","2022",1,"work");o.push(e),o.push(a);const i=c("work"),s=c("gym");l.push(i),l.push(s),t(l),n(o)})(),a.enableAddProjectButton(),a.enableAddTaskButton(),a.enableFolderSwitching(),a.enableProjectSwitching()})();
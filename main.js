(()=>{"use strict";const e=(e,t,n,d,c)=>({title:e,description:t,dueDate:n,priority:d,project:c,done:!1}),t=e=>({title:e}),n=(()=>{const e=(e,t)=>{const n=document.createElement("li"),d=document.createElement("button"),c=document.createElement("span"),o=document.createElement("span");o.classList.add("task-title");const a=document.createElement("span"),l=document.createElement("p"),s=(document.createElement("button"),document.createElement("span")),i=document.createElement("button"),r=document.createElement("span");r.classList.add("material-icons"),!1===t.done?r.textContent="check_box_outline_blank":!0===t.done&&(r.textContent="check_box"),d.appendChild(r),c.textContent=t.priority,o.textContent=t.title,a.textContent=t.project,l.textContent=t.description,s.textContent=t.dueDate;const p=document.createElement("span");p.classList.add("material-icons"),p.textContent="close",i.appendChild(p),i.classList.add("task-delete-button"),n.appendChild(d),n.appendChild(c),n.appendChild(o),n.appendChild(a),n.appendChild(s),n.appendChild(i),e.appendChild(n)};return{updateContent:(t,n)=>{const c=document.querySelector(".content");c.innerHTML="";const o=document.createElement("div");o.classList.add("content-container");const a=document.createElement("h2"),l=document.createElement("ul");l.classList.add("task-list");const s=document.createElement("button");s.classList.add("add-task-button"),s.textContent="Add a task","inbox"===t.classList[1]?(a.textContent="Inbox",n.forEach((t=>{e(l,t)}))):(a.textContent=t.textContent,n.forEach((n=>{n.project===t.textContent&&e(l,n)}))),a.classList.add("choice-title"),o.appendChild(a),o.appendChild(s),o.appendChild(l),c.appendChild(o),d.enabelDeleteTaskButton()},updateProjectList:e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("project-name-and-detele");const d=document.createElement("span");d.classList.add("project-button"),d.textContent=e.title;const c=document.createElement("button");c.textContent="x",c.classList.add("project-delete-button"),n.appendChild(d),n.appendChild(c),t.appendChild(n)})),d.enabelDeleteProjectButton()},updateTaskList:e}})(),d=(()=>{let d=[],c=[];const o=e=>{c.push(e)},a=e=>{d.push(e)},l=e("Clean the house","There are some spiders that are dirty","2022",1),s=e("Remove the mouxxxse","There are some spiders that are dixrty","2022",1,"work");a(l),a(s);const i=t("work"),r=t("gym");o(i),o(r);const p=()=>{document.querySelectorAll(".project-button").forEach((e=>e.addEventListener("click",(()=>{n.updateContent(e,d),u()}))))},u=()=>{const t=document.querySelector(".add-task-button");t.addEventListener("click",(()=>(t=>{t.classList.add("hidden");const o=document.createElement("form"),a=document.createElement("div");a.classList.add("task-details-container");const l=document.createElement("select"),s=document.createElement("input"),i=document.createElement("select"),r=document.createElement("input"),p=document.createElement("textarea"),u=document.createElement("div"),m=document.createElement("button"),h=document.createElement("button"),C=document.createElement("option");C.value="",C.textContent="-",C.selected=!0,l.appendChild(C);for(let e=0;e<10;e++){const t=document.createElement("option");t.value=e+1,t.textContent=e+1,l.appendChild(t)}s.required=!0,s.placeholder="Task",s.classList.add("task-title");const E=document.createElement("option");E.value="",E.textContent="-",i.appendChild(E),c.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.textContent=e.title,i.appendChild(t)})),r.type="date",p.classList.add("text-area-description"),m.type="button",h.type="button",m.textContent="Add",h.textContent="Cancel",h.addEventListener("click",(()=>{o.remove(),t.classList.remove("hidden")})),m.addEventListener("click",(()=>{if(o.checkValidity()){const c=e(s.value,p.value,r.value,l.value,i.value);d.push(c),n.updateTaskList(document.querySelector(".task-list"),c),o.remove(),t.classList.remove("hidden")}else o.reportValidity()})),u.classList.add("add-or-cancel"),u.appendChild(m),u.appendChild(h),a.appendChild(l),a.appendChild(s),a.appendChild(i),a.appendChild(r),o.appendChild(a),o.appendChild(p),o.appendChild(u),document.querySelector(".choice-title").after(o)})(t)))};return{switchFolder:()=>{document.querySelectorAll(".folder-button").forEach((e=>e.addEventListener("click",(()=>{n.updateContent(e,d),u()}))))},switchProject:p,updateProjectList:()=>{n.updateProjectList(c)},enableAddProjectButton:e=>{e.addEventListener("click",(()=>(e=>{e.classList.add("hidden");const d=document.createElement("form"),o=document.createElement("div"),a=document.createElement("input"),l=document.createElement("div"),s=document.createElement("button"),i=document.createElement("button");a.required=!0,a.placeholder="Project",s.type="button",i.type="button",s.textContent="Add",i.textContent="Cancel",i.addEventListener("click",(()=>{d.remove(),e.classList.remove("hidden")})),s.addEventListener("click",(()=>{if(d.checkValidity()){const o=t(a.value);c.push(o),n.updateProjectList(c),p(),d.remove(),e.classList.remove("hidden")}else d.reportValidity()})),l.classList.add("add-or-cancel"),l.appendChild(s),l.appendChild(i),o.appendChild(a),d.appendChild(o),d.appendChild(l),document.querySelector(".project-list").after(d)})(e)))},enabelDeleteProjectButton:()=>{document.querySelectorAll(".project-delete-button").forEach((e=>e.addEventListener("click",(()=>{c=c.filter((t=>t.title!==e.closest("li").children[0].textContent)),e.closest("li").remove()}))))},enabelDeleteTaskButton:()=>{document.querySelectorAll(".task-delete-button").forEach((e=>e.addEventListener("click",(()=>{console.log(e.closest("li").children[2].textContent),d=d.filter((t=>t.title!==e.closest("li").children[2].textContent)),e.closest("li").remove()}))))}}})();(()=>{const e=()=>{const e=document.createElement("div");e.classList.add("folders");const t=document.createElement("button");t.classList.add("folder-button","inbox");const n=document.createElement("span");return n.classList.add("material-icons"),n.textContent="inbox",t.appendChild(n),t.insertAdjacentText("beforeend","Inbox"),e.appendChild(t),e},t=()=>{const e=document.createElement("div");e.classList.add("projects");const t=document.createElement("h2");t.textContent="Projects";const n=document.createElement("ul");n.classList.add("project-list");const c=document.createElement("button");c.classList.add("add-project");const o=document.createElement("span");return o.classList.add("material-icons"),o.textContent="add",c.appendChild(o),c.insertAdjacentText("beforeend","Add a project"),e.appendChild(t),e.appendChild(n),e.appendChild(c),d.enableAddProjectButton(c),e};return{initializeBody:()=>{const n=document.querySelector("body");n.appendChild((()=>{const e=document.createElement("header"),t=document.createElement("h1");return t.classList.add("logo"),t.textContent="Tasks",e.appendChild(t),e})()),n.appendChild((()=>{const n=document.createElement("main");return n.appendChild((()=>{const n=document.createElement("div");return n.classList.add("sidebar"),n.appendChild(e()),n.appendChild(t()),n})()),n.appendChild((()=>{const e=document.createElement("div");return e.classList.add("content"),e})()),n})()),n.appendChild((()=>{const e=document.createElement("footer"),t=document.createElement("p");return t.textContent="by Murad Ildarov",e.appendChild(t),e})())}}})().initializeBody(),d.switchFolder(),d.updateProjectList(),d.switchProject()})();